<!-- Desktop Sidebar (permanent on lg screens) -->
<aside class="hidden lg:flex lg:flex-shrink-0">
    <div class="w-64 h-screen bg-primary-50 border-r border-primary-200 fixed top-0 pt-16 z-20">
        <div class="p-4">
            <div class="flex flex-col space-y-2">
                @for (item of navItems(); track item.path) {
                <a [routerLink]="item.path" routerLinkActive="bg-primary-100 text-primary-800"
                    class="px-4 py-3 rounded-lg flex items-center space-x-3 text-primary-700 hover:bg-primary-100 transition-colors">
                    <img [src]="'assets/icons/' + item.icon + '.svg'" [alt]="item.name" class="w-5 h-5" />
                    <span>{{ item.name }}</span>
                </a>
                }
            </div>
        </div>
    </div>
</aside>

<!-- Mobile Sidebar (off-canvas) -->
<div class="lg:hidden fixed inset-0 z-40" *ngIf="isMobileSidebarOpen()">
    <!-- Overlay -->
    <div class="absolute inset-0 bg-primary-600/75" (click)="onToggleMobileSidebar()"></div>

    <!-- Sidebar Content -->
    <div class="relative h-full w-64 bg-primary-50 shadow-lg transform transition-transform duration-300 ease-in-out"
        [class.translate-x-0]="isMobileSidebarOpen()" [class.-translate-x-full]="!isMobileSidebarOpen()">

        <div class="p-4 pt-16">
            <button class="absolute top-4 right-4 text-primary-600" (click)="onToggleMobileSidebar()">
                <img src="assets/icons/close.svg" alt="Close" class="w-6 h-6" />
            </button>

            <div class="flex flex-col space-y-2">
                @for (item of navItems(); track item.path) {
                <a [routerLink]="item.path" routerLinkActive="bg-primary-500 text-primary-800"
                    class="px-4 py-3 rounded-lg flex items-center space-x-3 text-primary-700 hover:bg-primary-600 transition-colors"
                    (click)="onToggleMobileSidebar()">
                    <img [src]="'assets/icons/' + item.icon + '.svg'" [alt]="item.name" class="w-5 h-5" />
                    <span>{{ item.name }}</span>
                </a>
                }
            </div>
        </div>
    </div>
</div>